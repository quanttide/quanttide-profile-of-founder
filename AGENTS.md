# AGENTS.md - Agent 工作指南

## 人机协作范式

### 核心原则

1. **最小干预**：仅在用户明确请求时操作，不主动修改非相关文件
2. **信息复用**：优先使用已有文档内容，避免重复记录已知信息
3. **查询 index**：每次维护前先查询相关 index.md 了解内容结构和关联
4. **维护 index**：修改内容后同步更新对应 index.md 的内容摘要
5. **校准目标**：每次维护前查看 ROADMAP，确保与长期目标一致
6. **验证优先**：完成修改后必须验证构建成功
7. **原子提交**：每次提交应包含完整且独立的变更

### 工作流程

1. **理解需求**：明确用户的具体任务和范围
2. **查询 index**：查看相关 index.md 了解内容结构和关联
3. **检查现状**：查看相关配置文件了解当前状态
4. **执行操作**：按规范进行修改
5. **更新 index**：同步更新相关 index.md 的内容摘要
6. **验证结果**：运行构建命令确认无错误
7. **提交推送**：创建提交并推送到远程

### 权限边界

- **可执行**：文档增删改、配置更新、README 更新
- **需确认**：目录结构调整、新板块创建
- **禁止**：修改 .gitignore、提交敏感文件

---

## 常见任务

### 添加新文档

1. 在对应目录下创建 `.md` 文件
2. 更新该目录的 `index.md`
3. 在 `_toc.yml` 中注册文件
4. 运行构建验证

### 添加新板块

1. 创建目录（遵循命名规范：小写、复数）
2. 创建 `index.md` 介绍板块内容
3. 在 `index.md` 板块边界部分添加说明
4. 在 `_toc.yml` 中注册
5. 运行构建验证

### 发布新版本

1. **检查 CHANGELOG**：查看已有版本记录格式
2. **更新 CHANGELOG**：在 `[Unreleased]` 下新增版本块，或创建新版本块
3. **提交推送**：确保所有变更已推送到远程
4. **创建 Release**：
   ```bash
   gh release create <version> --title "v<version>" --notes-file CHANGELOG.md --draft
   ```
5. **确认发布**：检查 Release 内容，移除 `--draft` 正式发布

---

## ROADMAP 使用方法

ROADMAP 是长期目标指引，每次维护前应查阅以确保方向正确。

### 查阅时机

- 每次执行维护任务前
- 添加新文档或新板块时
- 版本发布前回顾

### 校准方法

1. 查看当前所处阶段（探索期/验证期/正式期）
2. 确认当前版本号对应的里程碑
3. 检查本次工作是否契合阶段目标
4. 如有偏差，优先完成阶段核心目标

### 阶段检查

- **探索期**：本次工作是否验证了碎片信息收集效率？
- **验证期**：本次工作是否验证了跨档案协作有效性？
- **正式期**：本次工作是否提升了信息质量或贡献者体验？

---

## 版本规范

### 版本号语义

遵循语义化版本（SemVer）规范：`主版本.次版本.修订号`

### 版本目标

- **0.0.x（探索期）**：探索个人向公司高效提交海量碎片化信息的方法
  - 验证碎片信息收集效率
  - 验证分类体系合理性

- **0.x.y（验证期）**：验证本档案与团队其他档案的互动有效性
  - 验证跨档案引用机制
  - 验证协作流程

- **x.y.z（正式期）**：档案作为重要来源指导外部贡献者日常工作
  - 信息质量标准化
  - 贡献者接入规范

### 版本更新规范

| 类型 | 场景 | 示例 |
|------|------|------|
| 修订号 | 小幅调整、错别字修正、格式调整 | 0.0.1 → 0.0.2 |
| 次版本 | 新增内容、新增板块、重大重构 | 0.0.1 → 0.1.0 |
| 主版本 | 架构调整、板块边界变化 | 0.1.0 → 1.0.0 |

### 发布节奏

- **探索期（0.0.x）**：按需发布，快速验证
- **验证期（0.x.y）**：每 1-2 周发布一次
- **正式期（x.y.z）**：每 2-4 周或按需发布
